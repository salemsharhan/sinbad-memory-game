# برنامج السندباد - Sinbad Memory Training Game

## نظرة عامة

برنامج السندباد هو تطبيق تفاعلي لتدريب الذاكرة مصمم خصيصاً للأطفال المصابين بالدسلكسيا (عسر القراءة). يتميز البرنامج بواجهة عربية صديقة للأطفال مع ألوان مريحة للعين وخطوط واضحة.

## المميزات الرئيسية

- ✅ **3 مستويات تعليمية** (A, B, C) مع 3 مراحل لكل مستوى
- ✅ **واجهة صديقة للدسلكسيا** بألوان كريمية وبيج مريحة
- ✅ **دعم كامل للغة العربية** مع RTL
- ✅ **لوحة تحكم للمعلمين** لإدارة الطلاب وتتبع التقدم
- ✅ **تقارير مفصلة** عن أداء الطلاب
- ✅ **نظام مكافآت وشهادات** تحفيزية
- ✅ **تخصيص أوقات العرض** حسب مستوى الطالب

## المتطلبات

- Node.js 18+ و npm أو yarn
- حساب Supabase (مجاني)
- متصفح حديث يدعم ES6+

---

## خطوات التثبيت والإعداد

### 1. إنشاء مشروع Supabase

1. اذهب إلى [supabase.com](https://supabase.com)
2. أنشئ حساباً جديداً أو سجل الدخول
3. أنشئ مشروعاً جديداً (New Project)
4. احفظ معلومات المشروع:
   - **Project URL**: `https://your-project.supabase.co`
   - **Anon Key**: المفتاح العام للمشروع

### 2. إعداد قاعدة البيانات

1. افتح **SQL Editor** في لوحة تحكم Supabase
2. انسخ محتوى ملف `supabase/migrations/20241224_create_sinbad_tables.sql`
3. الصق المحتوى في SQL Editor
4. اضغط **Run** لتنفيذ الأوامر

هذا سينشئ جميع الجداول والعلاقات والصلاحيات المطلوبة.

### 3. تثبيت المشروع

```bash
# 1. فك ضغط الملفات
cd sinbad-supabase-export

# 2. تثبيت المكتبات
npm install
# أو
yarn install

# 3. إنشاء ملف البيئة
cp .env.example .env
```

### 4. إعداد متغيرات البيئة

افتح ملف `.env` وأضف معلومات مشروع Supabase:

```env
VITE_SUPABASE_URL=https://your-project.supabase.co
VITE_SUPABASE_ANON_KEY=your-anon-key-here
```

⚠️ **مهم**: لا ترفع ملف `.env` إلى Git!

### 5. تشغيل التطبيق

```bash
# وضع التطوير
npm run dev

# سيفتح التطبيق على http://localhost:3000
```

### 6. إنشاء حساب معلم

1. افتح التطبيق في المتصفح
2. اضغط "إنشاء حساب جديد"
3. أدخل:
   - الاسم الكامل
   - البريد الإلكتروني
   - كلمة المرور (6 أحرف على الأقل)
4. بعد التسجيل، سجل الدخول بنفس البيانات

---

## البناء للإنتاج

```bash
# بناء التطبيق
npm run build

# معاينة النسخة المبنية
npm run preview
```

سيتم إنشاء مجلد `dist` يحتوي على الملفات الجاهزة للنشر.

---

## نشر التطبيق

### النشر على Vercel

1. ادفع الكود إلى GitHub
2. اذهب إلى [vercel.com](https://vercel.com)
3. استورد المشروع من GitHub
4. أضف متغيرات البيئة:
   - `VITE_SUPABASE_URL`
   - `VITE_SUPABASE_ANON_KEY`
5. اضغط Deploy

### النشر على Netlify

1. ادفع الكود إلى GitHub
2. اذهب إلى [netlify.com](https://netlify.com)
3. استورد المشروع
4. أضف Build Command: `npm run build`
5. أضف Publish Directory: `dist`
6. أضف متغيرات البيئة
7. اضغط Deploy

---

## هيكل المشروع

```
sinbad-supabase-export/
├── public/                  # الملفات الثابتة
│   └── game-images/        # صور عناصر اللعبة
├── src/
│   ├── assets/             # الموارد (JSON, صور)
│   │   └── game-data.json  # بيانات المستويات والمراحل
│   ├── components/         # المكونات القابلة لإعادة الاستخدام
│   ├── contexts/           # React Contexts
│   │   └── AuthContext.jsx # إدارة المصادقة
│   ├── lib/                # المكتبات والأدوات
│   │   ├── supabaseClient.js
│   │   └── api/            # دوال API
│   │       ├── students.js
│   │       └── game.js
│   ├── pages/              # صفحات التطبيق
│   │   ├── Login.jsx
│   │   ├── Dashboard.jsx
│   │   ├── Students.jsx
│   │   ├── GameEntry.jsx
│   │   ├── GamePlay.jsx
│   │   └── GameResults.jsx
│   ├── App.jsx             # المكون الرئيسي
│   ├── main.jsx            # نقطة الدخول
│   └── index.css           # الأنماط العامة
├── supabase/
│   └── migrations/         # ملفات SQL للقاعدة
├── package.json
├── vite.config.js
├── tailwind.config.js
└── README.md
```

---

## استخدام التطبيق

### للمعلمين

1. **تسجيل الدخول**: استخدم بريدك الإلكتروني وكلمة المرور
2. **إضافة طلاب**: من صفحة "الطلاب" → "إضافة طالب جديد"
3. **متابعة التقدم**: عرض تفاصيل كل طالب وإحصائياته
4. **تخصيص الإعدادات**: ضبط أوقات العرض والصوت من صفحة "الإعدادات"

### للطلاب

1. افتح الرابط: `https://your-app.com/game/{student-id}`
2. اختر المستوى والمرحلة
3. ابدأ اللعبة
4. شاهد النتائج والشهادة بعد الانتهاء

---

## بيانات اللعبة

يحتوي ملف `src/assets/game-data.json` على:

- **3 مستويات** (A, B, C)
- **3 مراحل** لكل مستوى (1, 2, 3)
- **أسئلة متعددة** لكل مرحلة
- **عناصر مطلوبة** و **عناصر مشتتة** لكل سؤال
- **أوقات عرض** قابلة للتخصيص (قصير، متوسط، طويل)

---

## قاعدة البيانات

### الجداول الرئيسية

- **teachers**: بيانات المعلمين
- **students**: بيانات الطلاب
- **game_sessions**: جلسات اللعب
- **game_results**: نتائج الأسئلة
- **level_configurations**: إعدادات المستويات
- **achievements**: الإنجازات والشهادات

### Row Level Security (RLS)

تم تفعيل RLS على جميع الجداول لضمان:
- المعلمون يرون طلابهم فقط
- الطلاب يصلون لبياناتهم فقط
- حماية البيانات من الوصول غير المصرح

---

## التخصيص

### تغيير الألوان

عدّل ملف `tailwind.config.js`:

```javascript
colors: {
  cream: { ... },  // ألوان الخلفية الرئيسية
  beige: { ... },  // ألوان الخلفية الثانوية
  primary: { ... }, // اللون الأساسي للأزرار
}
```

### إضافة صور جديدة

1. ضع الصور في `public/game-images/`
2. سمّ الملفات حسب اسم العنصر (مثلاً: `تفاحة.png`)
3. أضف العناصر في `game-data.json`

### تعديل بيانات اللعبة

عدّل ملف `src/assets/game-data.json`:

```json
{
  "timingConfigurations": {
    "short": [30, 23, 17, 14, 10, 8],
    "medium": [32, 27, 20, 15, 12, 9],
    "long": [34, 29, 23, 17, 14, 11]
  },
  "levels": {
    "A": {
      "stages": {
        "1": {
          "questions": [...]
        }
      }
    }
  }
}
```

---

## المشاكل الشائعة وحلولها

### خطأ في الاتصال بـ Supabase

```
Error: Invalid Supabase URL or key
```

**الحل**: تأكد من صحة `VITE_SUPABASE_URL` و `VITE_SUPABASE_ANON_KEY` في ملف `.env`

### خطأ في تسجيل الدخول

```
Error: Invalid login credentials
```

**الحل**: 
1. تأكد من تفعيل Email Auth في Supabase
2. تحقق من صحة البريد وكلمة المرور
3. تأكد من تأكيد البريد الإلكتروني

### الصور لا تظهر

**الحل**:
1. تأكد من وجود الصور في `public/game-images/`
2. تأكد من تطابق أسماء الملفات مع أسماء العناصر في `game-data.json`
3. أعد تشغيل الخادم بعد إضافة صور جديدة

---

## الدعم الفني

للمساعدة أو الإبلاغ عن مشاكل:

- **البريد الإلكتروني**: support@sinbad-game.com
- **الوثائق**: [docs.sinbad-game.com](https://docs.sinbad-game.com)

---

## الترخيص

هذا المشروع مرخص تحت رخصة MIT. راجع ملف `LICENSE` للمزيد من التفاصيل.

---

## المساهمة

نرحب بالمساهمات! يرجى:

1. عمل Fork للمشروع
2. إنشاء فرع جديد (`git checkout -b feature/amazing-feature`)
3. Commit التغييرات (`git commit -m 'Add amazing feature'`)
4. Push إلى الفرع (`git push origin feature/amazing-feature`)
5. فتح Pull Request

---

## شكر خاص

- فريق Supabase على المنصة الرائعة
- مجتمع React و Tailwind CSS
- جميع المساهمين في المشروع

---

**تم التطوير بـ ❤️ لمساعدة الأطفال على تطوير مهاراتهم**
